<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EHR Study Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 600px;
            min-height: 80vh;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">
    <div class="container bg-white p-8 rounded-xl shadow-lg flex flex-col items-center">
        <h1 id="quiz-title" class="text-3xl font-bold text-gray-800 mb-6 text-center">EHR Study Quiz</h1>
        <div id="quiz-container" class="w-full">
            <div id="question-card" class="bg-blue-50 p-6 rounded-lg shadow-inner mb-6">
                <p id="question-text" class="text-lg text-gray-700 font-medium mb-4">Question loading...</p>
                <div id="options-container" class="space-y-3">
                    <!-- Options will be dynamically generated here -->
                </div>
            </div>
            <div id="results-container" class="text-center hidden">
                <p id="score-text" class="text-2xl font-semibold mb-4 text-gray-700">Quiz complete!</p>
                <button id="restart-button" class="px-6 py-3 bg-blue-600 text-white font-medium rounded-full shadow-md hover:bg-blue-700 transition-colors">Restart Quiz</button>
            </div>
            <div id="message-box" class="mt-4 p-3 text-center text-sm font-medium rounded-lg hidden"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizData = [
                {
                    question: "What does EHR stand for?",
                    options: ["Electronic Health Record", "Emergency Health Response", "Endocrine Hormone Registry", "Environmental Hazard Report"],
                    answer: "Electronic Health Record"
                },
                {
                    question: "Which of these is a key benefit of using an EHR system?",
                    options: ["Decreased data accuracy", "Improved patient care coordination", "Increased paperwork", "Slower access to patient data"],
                    answer: "Improved patient care coordination"
                },
                {
                    question: "What is the primary purpose of a patient portal in an EHR system?",
                    options: ["For doctors to write notes", "To manage hospital staffing schedules", "To give patients secure access to their health information", "To process insurance claims"],
                    answer: "To give patients secure access to their health information"
                },
                {
                    question: "HIPAA is a U.S. law that protects what?",
                    options: ["The right to vote", "Patient privacy and health information", "Food safety standards", "Intellectual property rights"],
                    answer: "Patient privacy and health information"
                }
            ];

            let currentQuestionIndex = 0;
            let score = 0;

            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const resultsContainer = document.getElementById('results-container');
            const scoreText = document.getElementById('score-text');
            const restartButton = document.getElementById('restart-button');
            const messageBox = document.getElementById('message-box');

            function showMessage(text, isCorrect) {
                messageBox.textContent = text;
                messageBox.classList.remove('hidden', 'bg-red-200', 'text-red-800', 'bg-green-200', 'text-green-800');
                if (isCorrect) {
                    messageBox.classList.add('bg-green-200', 'text-green-800');
                } else {
                    messageBox.classList.add('bg-red-200', 'text-red-800');
                }
                setTimeout(() => {
                    messageBox.classList.add('hidden');
                }, 1500); // Hide after 1.5 seconds
            }

            function loadQuestion() {
                const q = quizData[currentQuestionIndex];
                questionText.textContent = q.question;
                optionsContainer.innerHTML = ''; // Clear previous options

                q.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('w-full', 'px-4', 'py-3', 'text-left', 'bg-gray-100', 'text-gray-800', 'rounded-lg', 'font-medium', 'hover:bg-gray-200', 'transition-colors', 'shadow-sm');
                    button.onclick = () => checkAnswer(option, q.answer);
                    optionsContainer.appendChild(button);
                });
            }

            function checkAnswer(selectedOption, correctAnswer) {
                if (selectedOption === correctAnswer) {
                    score++;
                    showMessage("Correct!", true);
                } else {
                    showMessage(`Incorrect. The answer was: ${correctAnswer}`, false);
                }

                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    // Wait for the message box to hide before loading the next question
                    setTimeout(loadQuestion, 1600);
                } else {
                    showResults();
                }
            }

            function showResults() {
                document.getElementById('question-card').classList.add('hidden');
                resultsContainer.classList.remove('hidden');
                scoreText.textContent = `You scored ${score} out of ${quizData.length}!`;
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                document.getElementById('question-card').classList.remove('hidden');
                resultsContainer.classList.add('hidden');
                loadQuestion();
            }

            restartButton.addEventListener('click', restartQuiz);
            loadQuestion(); // Initial load
        });
    </script>
</body>
</html>
